const addBtn=document.getElementsByClassName("plus-duration"),minBtn=document.getElementsByClassName("minus-duration"),inputDurations=document.getElementsByName("input-duration"),payOrder=document.getElementsByClassName("btn-pay-order")[0];function updateSubPrice(t,e){const n=document.getElementById(`waifu-price-${t}`),a=document.getElementById(`duration-${t}`);n.textContent="Rp."+e*a.value,splitPrice(n),updateTotalPrice()}function updateTotalPrice(){let t=0;selectedCart.map((e=>{const[n,...a]=document.getElementById(`waifu-price-${e}`).textContent.toString().split("."),i=parseInt(a.join(""));t+=i}));const e=document.getElementsByClassName("order-count")[0],n=document.getElementsByClassName("total-price")[0];n.textContent=`Rp.${t}`,e.textContent=`${selectedCart.length} Order`,splitPrice(n)}window.addEventListener("load",(function(){splitPrices("sub-price")}));const getWaifuPrice=async t=>{const e=`${BASE_URL_API}/cart/${t}/waifu-price`,n=await fetch(e,{method:"GET",headers:{"Content-type":"application/json"}}),{data:{waifuPrice:a}}=await n.json();return a};[...addBtn].forEach((t=>{t.addEventListener("click",(async function(){const t=this.dataset.id,e=await getWaifuPrice(t);document.getElementById(`duration-${t}`).value++,updateSubPrice(t,e)}))})),[...minBtn].forEach((t=>{t.addEventListener("click",(async function(){const t=this.dataset.id,e=await getWaifuPrice(t),n=document.getElementById(`duration-${t}`);n.value-1<1||(n.value--,updateSubPrice(t,e))}))})),payOrder.addEventListener("click",(function(){console.log(selectedCart);selectedCart.map((t=>({cartId:t,duration:document.getElementById(`duration-${t}`).value})));try{await("awdwad",{header:header})}catch(t){console.log(t)}}));
//# sourceMappingURL=cart.main.js.map